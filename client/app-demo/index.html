<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <title>Kate App</title>
        <link href="jquery-ui.css" >
        <script type="text/javascript" src="jquery-1.9.1.js"></script>
        <script type="text/javascript" src="jquery-ui.js"></script>
        <script type="text/javascript" src="app.js"></script>
        <script type="text/javascript" src="nodeim.js"></script>
        <script type="text/javascript" src="socket.io.js"></script>
        <style>
        .box {
        	border: 1px solid #DDD;
        	width: 100px ;
        	height: 100px ;
        }
        </style>
    </head>
    
    <body>
	
	<p>
		<h3>进程间通讯 demo</h3>
		<div>
			[As Server]
			名称：<input id="ipcStartServerName" value="somename" />
			<button id="startIPCServer">监听</button>
		</div>
		
		<div>
			[As Client]
			名称：<input id="ipcSendToServerName" value="somename" />
			内容：<input id="ipcSendToContents" value="hi~~~" />
			<button id="sendToIPCServer">发送</button>
		</div>
		
		<script >
		
		// 做为 server 端监听
		$("#startIPCServer").click(function(){
			var serverName = $('#ipcStartServerName').val() ;
			if( kate.window.startLocalServer(serverName) )
			{
				alert("开始监听") ;
			}
			else
			{
				alert("监听失败，可能有其他进程监听相同的名称") ;
			}
		}) ;
		
		// 接收事件
		function onKateLocalServerReceive(name,contents)
		{
			alert("ipc server "+name+" 接收到数据："+contents) ;
		}
		
		// 做为 client 发送
		$("#sendToIPCServer").click(function(){
			var serverName = $('#ipcSendToServerName').val() ;
			var contents = $('#ipcSendToContents').val() ;
			if( kate.sendToLocalServer(serverName,contents) )
			{
				alert("已发送") ;
			}
			else
			{
				alert("发送失败，可能没有监听的server进程") ;
			}
		}) ;
		</script >
	</p>
	<hr/>
	
		<div id="title" style="height:30px;background-color:#aaaaaa;user-select: none;-webkit-user-select: none;" onmousedown="kate.window.drag()">我是标题栏(用我移动窗口)</div>
		<button onclick="kate.window.close()">关闭窗口</button>
	
	
<script >

nodeim.login("aa","aa",function(){
	nodeim.friends();
});

$(document).ready(function(){
	//start()
});


</script>
    	hello world ~~
					----------------------------------------------------------------------------------------
<div class="wMainUserHeaderEx" id="defaultGroup">默认分组 ( <span id="defaultGroupNum">0</span> )</div>
					<div class="wMainUserContainer" style="min-height: 26px" id="defaultGroupList">
<!-- 							<div class="wMainUserItem" style="width:100%" > -->
<!-- 							<div class="wMainListButton"' > -->
<!-- 							</div> -->
<!-- 							<div class="wMainUserItemText">aarongao&nbsp;&nbsp;<span style="color: #777"></span> -->
<!-- 							</div> -->
<!-- 							</div> -->
					</div>
					----------------------------------------------------------------------------------------
    	<p>
	    	<button id="btnOpenConsole">控制台</button>
	    </p>

		<p>
	    	<button id="btnShotScreen">截屏</button> （快捷键 CTRL+ALT+A）
	    </p>

		<p>
	    	<button id="btnOpenWindow">打开窗口</button>
	    </p>
		<p>
	    	<button id="btnRead">读数</button>
	    </p>

		<span class="contextMenuDemo" style="color:green;">
		    右键点此
		 </span>
		 <ul id="menu" style="display:none;position:fixed;border: 1px solid #DDD;list-style-type: none;margin: 0;
padding: 0;">
		 	<li>item 1</li>
		 	<li>item 2</li>
		 	<li>item 3</li>
		 	<li>item 4</li>
		 </ul>

		 <div class="box" id="my-name-is-drag">
		 	我姓“拖”
		</div>
		 <div class="box" id="my-name-is-drop" style="width:200px;height:200px">
		 	我姓“放”
		</div>
    </body>
</html>